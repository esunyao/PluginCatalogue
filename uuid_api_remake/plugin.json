{
  "schema_version": 1,
  "id": "uuid_api_remake",
  "authors": [
    "gubai"
  ],
  "repository": "https://github.com/gubaiovo/MCDR_uuid_api_remake",
  "branch": "main",
  "related_path": "uuid_api_remake",
  "labels": [
    "api",
    "tool"
  ],
  "introduction": {
    "en_us": "# UUID API REMAKE\nThis plugin is a remade version of the UUID API. [Original UUID API link: https://github.com/AnzhiZhang/MCDReforgedPlugins/tree/master/src/uuid_api](https://github.com/AnzhiZhang/MCDReforgedPlugins/tree/master/src/uuid_api)\n\nThis plugin utilizes all code from the original API for obtaining UUIDs in **premium/offline** servers.\n\n### Additional Features in the Remake:\n\n1. Added more commands for easier UUID management.\n2. All obtained UUIDs are stored and centrally managed in the `uuid.json` data file.\n3. Added the `get_name(uuid)` function to retrieve player names from UUIDs (sourced from `uuid.json` and `usercache.json`).\n\n### UUID Retrieval Workflow (proceeds to next step if failed):\n\n1. Read the plugin data file `uuid.json`.\n2. Read `usercache.json`. If successful, store results in `uuid.json`.\n3. Call the original API. If successful, store results in `uuid.json`.\n4. Generate a pseudo-UUID using the SHA-256 hash of `playername + timestamp`, take the first 50 bits, and store it in `uuid.json`.\n\n### Configuration\n\n```json\n{\n    \"mojang_online_mode\": true,\n    \"online_api\": \"https://api.mojang.com/users/profiles/minecraft/\",\n    \"use_offline_api\": true,\n    \"offline_api\": \"http://tools.glowingmines.eu/convertor/nick/\"\n}\n```\n**mojang_online_mode**: Indicates whether the server is an official (authenticated) server. When set to true, it uses the official Mojang API to obtain UUIDs\n\n**online_api**: The endpoint URL for the official authentication API. Defaults to `https://api.mojang.com/users/profiles/minecraft/`\n\n**use_offline_api**: Determines whether to use offline API for UUID retrieval. This setting becomes active only when mojang_online_mode is set to false. Defaults to true\n\n**offline_api**: Offline API URL, defaults to `http://tools.glowingmines.eu/convertor/nick/`\n\n**Note**: Ensure these four configuration items remain complete in the file. If using custom APIs, please remember to include the trailing `/`\n\n### Commands\n\nExcept for `!!uar` and `!!uar help`, all other commands can only be used in the **console**.\n\nFor detailed usage, run `!!uar` or `!!uar help`.\n\n### API Usage\n\n**Obtain UUID from player name:**\n\n```python\nimport uuid_api_remake\n\nname = ... # str\nuuid = uuid_api_remake.get_uuid(name)\nprint(uuid)\n```\n\n**Obtain player name from UUID (sourced from `uuid.json` and `usercache.json`):**\n\n```python\nimport uuid_api_remake\n\nuuid = ... # str\nname = uuid_api_remake.get_name(uuid)\nprint(name)\n```\n",
    "zh_cn": "# UUID API REMAKE\n本插件为UUID API重制版，[原作UUID API链接：https://github.com/AnzhiZhang/MCDReforgedPlugins/tree/master/src/uuid_api](https://github.com/AnzhiZhang/MCDReforgedPlugins/tree/master/src/uuid_api)\n\n本插件使用了原api获取 正版/离线服务器 uuid 的所有代码\n\n### 重制版额外特性：\n\n1. 增加更多命令，便于管理uuid。\n2. 所有已获取的 uuid 存放到 `uuid.json` 数据文件中统一管理。\n3. 增加 `get_name(uuid)` 函数，可以由uuid获取玩家名。(获取范围为 `uuid.json` `usercache.json`)\n\n### 本插件uuid获取流程 (如果获取失败则执行下一步)：\n\n1. 读取插件数据文件 `uuid.json`\n2. 读取  `usercache.json` ，若读取成功，存放到 `uuid.json`\n3. 调用原api，若获取成功，存放到 `uuid.json`\n4. 使用 `玩家名+时间戳` 的哈希值(sha256)的前50位作为伪uuid，存放到 `uuid.json`\n\n### 配置文件\n\n```json\n{\n    \"mojang_online_mode\": true,\n    \"online_api\": \"https://api.mojang.com/users/profiles/minecraft/\",\n    \"use_offline_api\": true,\n    \"offline_api\": \"http://tools.glowingmines.eu/convertor/nick/\"\n}\n```\n\n**mojang_online_mode**: 服务器是否为正版服务器，若为true则使用正版api获取uuid\n\n**online_api**: 正版api地址，默认为 `https://api.mojang.com/users/profiles/minecraft/`\n\n**use_offline_api**: 是否使用离线api获取uuid，默认为true。当mojang_online_mode为false时，该项生效。\n\n**offline_api**: 离线api地址，默认为 `http://tools.glowingmines.eu/convertor/nick/`\n\n**注**：请保证配置文件中该四项完整。如果使用了自定义api，请注意不要忘记最后的 `/`\n\n### 命令\n\n除了 `!!uar` `!!uar help` ，其他命令只能在控制台使用\n\n具体使用方法请参考  `!!uar` 或 `!!uar help`\n\n### API使用方法\n\n获取玩家名对应的uuid：\n\n```python\nimport uuid_api_remake\n\nname = ... # str\nuuid = uuid_api_remake.get_uuid(name)\nprint(uuid)\n```\n\n获取uuid对应的玩家名(获取范围为 `uuid.json` `usercache.json`)\n\n```python\nimport uuid_api_remake\n\nuuid = ... # str\nname = uuid_api_remake.get_name(uuid)\nprint(name)\n```\n"
  },
  "introduction_urls": {
    "en_us": "https://raw.githubusercontent.com/gubaiovo/MCDR_uuid_api_remake/main/uuid_api_remake/doc/README.md",
    "zh_cn": "https://raw.githubusercontent.com/gubaiovo/MCDR_uuid_api_remake/main/uuid_api_remake/doc/README_CN.md"
  }
}